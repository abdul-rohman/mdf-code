// -----------------------------------------------------------------------------------------
// Table of Content for Blogger with Pagination
// Original: http://vagabundia.blogspot.com/2011/04/resumen-de-entradas-con-paginacion.html
// Modified by Taufik Nurrohman
// On 3 March 2012
// Visit: http://hompimpaalaihumgambreng.blogspot.com
// -----------------------------------------------------------------------------------------
var minpage=6;var maxpage=10;var firstpage=0;var pagernum=0;var postsnum=0;var actualpage=1;document.write('<div id="toc-outer"><div id="results"></div><div id="itempager" style="position:relative;"><div id="pagination"></div><div id="totalposts"></div><a title="Taufik Nurrohman" style="display:block!important;visibility:visible!important;opacity:1!important;position:absolute;bottom:10px;right:0px;font:normal bold 0px Arial,Sans-Serif!important;color:#666;text-shadow:0 1px 0 rgba(255,255,255,.1);text-decoration:none;" href="http://hompimpaalaihumgambreng.blogspot.com/2012/03/daftar-isi-blogger-dengan-navigasi.html" target="_blank">&#9658;TN</a></div></div>');var _results=document.getElementById('results');var _pagination=document.getElementById('pagination');var _totalposts=document.getElementById('totalposts');function showPagePosts(json){var entry,posttitle,posturl,postimg,postsumm,replies,monthnames,timepub,output="";if(pagernum==0){postsnum=parseInt(json.feed.openSearch$totalResults.$t);pagernum=parseInt(postsnum/postsperpage)+1}for(var i=0;i<postsperpage;i++){if(i==json.feed.entry.length)break;entry=json.feed.entry[i];posttitle=entry.title.$t;for(var k=0,elen=entry.link.length;k<elen;k++){if(entry.link[k].rel=='alternate'){posturl=entry.link[k].href;break}}for(var l=0,clen=entry.link.length;l<clen;l++){if(entry.link[l].rel=="replies"&&entry.link[l].type=="text/html"){var commentsnum=entry.link[l].title.split(" ")[0];break}}postsumm=("summary"in entry)?entry.summary.$t.replace(/<br ?\/?>/ig," ").replace(/<(.*?)>/g,""):"";if(postsumm.length>numchars){postsumm=(numchars>0&&numchars!==false)?postsumm.substring(0,numchars)+'...':""}var _postdate=entry.published.$t,_cdyear=_postdate.substring(0,4),_cdmonth=_postdate.substring(5,7),_cdday=_postdate.substring(8,10);monthnames=(idMode)?["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];timepub=(showPostDate)?_cdday+' '+monthnames[parseInt(_cdmonth,10)-1]+' '+_cdyear+' - ':'';replies=(showComments)?commentsnum+' '+commentsLabel:'';postimg=("media$thumbnail"in entry)?entry.media$thumbnail.url:imgBlank;output+='<div class="itemposts">';output+='<h6><a href="'+posturl+'" target="_blank">'+posttitle+'</a></h6>';output+='<div class="iteminside"><a href="'+posturl+'" target="_blank"><img src="'+postimg+'" /></a>';output+='<span class="summary">'+postsumm+'</span></div>';output+='<div style="clear:both;"></div><div class="itemfoot">'+timepub+replies+'<a class="itemrmore" href="'+posturl+'" target="_blank">'+rmoreText+'</a></div>';output+='</div>'}_results.innerHTML=output;_create_pagination()}function _create_pagination(){output="";var starter=0;output+=(actualpage>1)?'<a title="'+prevText+'" class="prevjson" href="javascript:_init_script('+parseInt(actualpage-1)+')">'+prevText+'</a>':'<span class="prevjson hidden">'+prevText+'</span>';if(pagernum<(maxpage+1)){for(starter=1;starter<=pagernum;starter++){output+=(starter==actualpage)?'<span class="actual">'+starter+'</span>':'<a href="javascript:_init_script('+starter+')">'+starter+'</a>'}}else if(pagernum>(maxpage-1)){if(actualpage<minpage){for(starter=1;starter<(maxpage-2);starter++){output+=(starter==actualpage)?'<span class="actual">'+starter+'</span>':'<a href="javascript:_init_script('+starter+')">'+starter+'</a>'}output+=' ... ';output+='<a href="javascript:_init_script('+parseInt(pagernum-1)+')">'+parseInt(pagernum-1)+'</a>';output+='<a href="javascript:_init_script('+pagernum+')">'+pagernum+'</a>'}else if(pagernum-(minpage-1)>actualpage&&actualpage>(minpage-1)){output+='<a href="javascript:_init_script(1)">1</a>';output+='<a href="javascript:_init_script(2)">2</a>';output+=' ... ';for(starter=actualpage-2;starter<=actualpage+2;starter++){output+=(starter==actualpage)?'<span class="actual">'+starter+'</span>':'<a href="javascript:_init_script('+starter+')">'+starter+'</a>'}output+=' ... ';output+='<a href="javascript:_init_script('+parseInt(pagernum-1)+')">'+parseInt(pagernum-1)+'</a>';output+='<a href="javascript:_init_script('+pagernum+')">'+pagernum+'</a>'}else{output+='<a href="javascript:_init_script(1)">1</a>';output+='<a href="javascript:_init_script(2)">2</a>';output+=' ... ';for(starter=pagernum-(minpage+1);starter<=pagernum;starter++){output+=(starter==actualpage)?'<span class="actual">'+starter+'</span>':'<a href="javascript:_init_script('+starter+')">'+starter+'</a>'}}}output+=(actualpage<starter-1)?'<a title="'+nextText+'" class="nextjson" href="javascript:_init_script('+parseInt(actualpage+1)+')">'+nextText+'</a>':'<span class="nextjson hidden">'+nextText+'</span>';_pagination.innerHTML=output;var parameter=(actualpage*postsperpage)-(postsperpage-1),_final=actualpage*postsperpage;_totalposts.innerHTML=totalPostLabel+' '+postsnum+' - '+jumpPageLabel+' '+parameter+' - '+_final}function _init_script(n){var parameter=(n*postsperpage)-(postsperpage-1);var url=(sortByLabel)?siteUrl+'/feeds/posts/summary/-/'+labelSorter+'?start-index='+parameter:siteUrl+'/feeds/posts/summary/?start-index='+parameter;if(firstpage==1){var old=document.getElementById("TEMPORAL");old.parentNode.removeChild(old)}_results.innerHTML='<div id="loadingscript">'+loadingText+'</div>';_pagination.innerHTML='';_totalposts.innerHTML='';var script=document.createElement('script');script.type='text/javascript';script.src=url+'&max-results='+postsperpage+'&orderby=published&alt=json-in-script&callback=showPagePosts';script.id='TEMPORAL';document.getElementsByTagName('head')[0].appendChild(script);firstpage=1;actualpage=n}window.onload=function(){_init_script(1)};